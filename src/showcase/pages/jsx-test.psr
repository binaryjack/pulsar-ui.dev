/**
 * PHASE 2: JSX & DOM Tests
 * Testing: Attributes, Events, Nesting
 */

import { createSignal } from '@pulsar-framework/pulsar.dev';

export component JsxTestPage() {
  // Test 1: Reactive Attributes
  const [bgColor, setBgColor] = createSignal('#3b82f6');
  const [isDisabled, setIsDisabled] = createSignal(false);
  const [inputValue, setInputValue] = createSignal('');
  
  // Test 2: Event Handlers
  const [clickCount, setClickCount] = createSignal(0);
  const [lastKey, setLastKey] = createSignal('');
  
  // Test 3: Style Objects
  const [fontSize, setFontSize] = createSignal(16);
  
  const handleClick = () => {
    setClickCount(clickCount() + 1);
  };
  
  const handleInput = (e) => {
    setInputValue(e.target.value);
  };
  
  const handleKeyPress = (e) => {
    setLastKey(e.key);
  };
  
  return (
    <div>
      <h2 style="font-size: 32px; margin-bottom: 20px; color: #10b981;">
        üé® Phase 2: JSX & DOM Tests
      </h2>
      
      {/* Test 1: Reactive Attributes */}
      <section style="background: #1a1a1a; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #3b82f6;">
        <h3 style="font-size: 24px; margin-bottom: 15px; color: #3b82f6;">
          1Ô∏è‚É£ Reactive Attributes
        </h3>
        <div style="margin-bottom: 15px;">
          <div 
            style={{
              padding: '20px',
              background: bgColor(),
              color: 'white',
              borderRadius: '6px',
              marginBottom: '15px',
              transition: 'background 0.3s'
            }}>
            Background color: {bgColor()}
          </div>
          <div style="display: flex; gap: 10px; margin-bottom: 15px;">
            <button onClick={() => setBgColor('#3b82f6')} style="padding: 10px 20px; background: #3b82f6; border: none; color: white; border-radius: 6px; cursor: pointer;">Blue</button>
            <button onClick={() => setBgColor('#10b981')} style="padding: 10px 20px; background: #10b981; border: none; color: white; border-radius: 6px; cursor: pointer;">Green</button>
            <button onClick={() => setBgColor('#f59e0b')} style="padding: 10px 20px; background: #f59e0b; border: none; color: white; border-radius: 6px; cursor: pointer;">Orange</button>
            <button onClick={() => setBgColor('#ef4444')} style="padding: 10px 20px; background: #ef4444; border: none; color: white; border-radius: 6px; cursor: pointer;">Red</button>
          </div>
        </div>
        
        <div>
          <button 
            disabled={isDisabled()}
            style={{
              padding: '10px 20px',
              background: isDisabled() ? '#4b5563' : '#8b5cf6',
              border: 'none',
              color: 'white',
              borderRadius: '6px',
              cursor: isDisabled() ? 'not-allowed' : 'pointer',
              marginRight: '10px'
            }}>
            {isDisabled() ? 'Disabled Button' : 'Enabled Button'}
          </button>
          <button 
            onClick={() => setIsDisabled(!isDisabled())}
            style="padding: 10px 20px; background: #6b7280; border: none; color: white; border-radius: 6px; cursor: pointer;">
            Toggle Disabled
          </button>
        </div>
      </section>
      
      {/* Test 2: Event Handlers */}
      <section style="background: #1a1a1a; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #8b5cf6;">
        <h3 style="font-size: 24px; margin-bottom: 15px; color: #8b5cf6;">
          2Ô∏è‚É£ Event Handlers
        </h3>
        <div style="margin-bottom: 15px;">
          <div style="margin-bottom: 10px;">
            <strong style="color: #10b981;">Click Count:</strong> {clickCount()}
          </div>
          <button 
            onClick={handleClick}
            style="padding: 10px 20px; background: #8b5cf6; border: none; color: white; border-radius: 6px; cursor: pointer; margin-right: 10px;">
            Click Me!
          </button>
          <button 
            onClick={() => setClickCount(0)}
            style="padding: 10px 20px; background: #6b7280; border: none; color: white; border-radius: 6px; cursor: pointer;">
            Reset
          </button>
        </div>
        
        <div style="margin-bottom: 15px;">
          <div style="margin-bottom: 10px;">
            <strong style="color: #10b981;">Input Value:</strong> {inputValue()}
          </div>
          <input 
            type="text"
            placeholder="Type something..."
            value={inputValue()}
            onInput={handleInput}
            style="padding: 10px; background: #2a2a2a; border: 2px solid #3b82f6; color: white; border-radius: 6px; font-size: 16px; width: 300px;" />
        </div>
        
        <div>
          <div style="margin-bottom: 10px;">
            <strong style="color: #10b981;">Last Key Pressed:</strong> {lastKey() || '(none)'}
          </div>
          <input 
            type="text"
            placeholder="Press any key..."
            onKeyPress={handleKeyPress}
            style="padding: 10px; background: #2a2a2a; border: 2px solid #8b5cf6; color: white; border-radius: 6px; font-size: 16px; width: 300px;" />
        </div>
      </section>
      
      {/* Test 3: Style Objects */}
      <section style="background: #1a1a1a; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #10b981;">
        <h3 style="font-size: 24px; margin-bottom: 15px; color: #10b981;">
          3Ô∏è‚É£ Reactive Style Objects
        </h3>
        <div style="margin-bottom: 15px;">
          <div style={{
            padding: '20px',
            background: '#2a2a2a',
            borderRadius: '6px',
            fontSize: `${fontSize()}px`,
            marginBottom: '15px'
          }}>
            Font size: {fontSize()}px - Adjust with buttons below
          </div>
          <div style="display: flex; gap: 10px;">
            <button onClick={() => setFontSize(fontSize() - 2)} style="padding: 10px 20px; background: #ef4444; border: none; color: white; border-radius: 6px; cursor: pointer;">Smaller</button>
            <button onClick={() => setFontSize(16)} style="padding: 10px 20px; background: #6b7280; border: none; color: white; border-radius: 6px; cursor: pointer;">Reset</button>
            <button onClick={() => setFontSize(fontSize() + 2)} style="padding: 10px 20px; background: #10b981; border: none; color: white; border-radius: 6px; cursor: pointer;">Larger</button>
          </div>
        </div>
      </section>
      
      {/* Status Summary */}
      <section style="background: #1a1a1a; padding: 20px; border-radius: 8px; border: 2px solid #10b981;">
        <h3 style="font-size: 20px; margin-bottom: 15px; color: #10b981;">
          ‚úÖ Test Status
        </h3>
        <ul style="list-style: none; padding: 0; color: #9ca3af;">
          <li style="margin-bottom: 8px;">‚è≥ Reactive attributes</li>
          <li style="margin-bottom: 8px;">‚è≥ Boolean attributes (disabled)</li>
          <li style="margin-bottom: 8px;">‚è≥ Style objects</li>
          <li style="margin-bottom: 8px;">‚è≥ Event handlers (onClick, onInput, onKeyPress)</li>
        </ul>
      </section>
    </div>
  );
}
