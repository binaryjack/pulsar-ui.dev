/**
 * PHASE 5: Context API & Dependency Injection
 * Refactored with modular components
 */

import { PageHeader } from '../common/components/page-header.psr';
import { DemoSection } from '../common/components/demo-section.psr';
import { 
  ThemeContext, 
  ThemeProvider, 
  UserContext, 
  UserProvider, 
  SettingsContext, 
  SettingsProvider 
} from './components/index.ts';
import { ThemedBox } from './components/themed-box.psr';
import { UserProfile } from './components/user-profile.psr';
import { ThemeControls } from './components/theme-controls.psr';
import { UserControls } from './components/user-controls.psr';
import { MultiContextDashboard } from './components/multi-context-dashboard.psr';

export component ContextTestPage() {
  return (
    <div>
      <PageHeader 
        title="Context API & Dependency Injection"
        emoji="ðŸ”Œ"
        color="#8b5cf6"
        description="Demonstrates createContext, useContext, and Provider pattern"
      />
      
      <ThemeProvider>
        <UserProvider>
          <SettingsProvider>
            <DemoSection 
              title="1ï¸âƒ£ Theme Context" 
              description="Share theme state across components without prop drilling"
              borderColor="#8b5cf6">
              <div style="margin-bottom: 20px;">
                <ThemeControls />
              </div>
              <ThemedBox />
            </DemoSection>
            
            <DemoSection 
              title="2ï¸âƒ£ User Context" 
              description="Manage user authentication state globally"
              borderColor="#10b981">
              <div style="margin-bottom: 20px;">
                <UserControls />
              </div>
              <UserProfile />
            </DemoSection>
            
            <DemoSection 
              title="3ï¸âƒ£ Multiple Contexts" 
              description="One component consuming ThemeContext + UserContext + SettingsContext simultaneously â€” change theme or user above and watch this update"
              borderColor="#f59e0b">
              <MultiContextDashboard />
            </DemoSection>
          </SettingsProvider>
        </UserProvider>
      </ThemeProvider>
    </div>
  );
}
