<!doctype html>
<html>
  <head>
    <title>DEBUG REACTIVE</title>
    <style>
      body {
        background: #000;
        color: #0f0;
        padding: 20px;
        font-family: monospace;
      }
      .error {
        color: #f00;
      }
    </style>
  </head>
  <body>
    <h1>REACTIVE TEST DEBUG</h1>
    <div id="log"></div>
    <hr />
    <div id="app" style="border: 2px solid red; min-height: 200px"></div>

    <script type="module">
      const log = (msg, isError) => {
        const div = document.createElement('div');
        if (isError) div.className = 'error';
        div.textContent = msg;
        document.getElementById('log').appendChild(div);
        console.log(msg);
      };

      try {
        log('1. Importing ReactiveTest...');
        const { ReactiveTest } = await import('./src/test-reactive.psr');
        log(`2. ReactiveTest type: ${typeof ReactiveTest}`);

        log('3. Calling ReactiveTest()...');
        const result = ReactiveTest();
        log(`4. Result: ${result ? result.tagName : 'null'}`);

        if (result) {
          log('5. Appending to #app...');
          document.getElementById('app').appendChild(result);
          log('6. ✅ Success!');
        } else {
          log('❌ ReactiveTest returned null!', true);
        }
      } catch (err) {
        log(`❌ ERROR: ${err.message}`, true);
        log(err.stack, true);
      }
    </script>
  </body>
</html>
